<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<title>BMI Calculator</title>
    
<head>
    <meta name="viewport"> 
    <meta charset="utf-8">
    <meta name="theme-color" content="#317EFB"/>
    <meta name="viewport" content="width=device-width">
    <link rel="manifest" href="https://ngchgkckjckghcghkflug.github.io/dump/manifest.json" />
</head>
<body>
    <button id="calc">Calculate BMI</button>
    
    <div id="mydiv"></div>
</body>
<script>
document.getElementById('mydiv').innerHTML = localStorage.getItem("displaydata");
function mylog(a){
    var div = document.getElementById('mydiv');
    div.innerHTML +=  "<h1><br>"+a+"</br></h1>";
}
function round2(num) {
    return +(Math.round(num + "e+2")  + "e-2");
}
function bmi2kg(bmi,height) {
    return round2(bmi * Math.pow((height / 100), 2));
}
function myFunction(the_height) {
    the_weight = Number.parseFloat(prompt("Enter the weight in kg: "));
    if (isNaN(the_weight)){
        mylog("Please enter a valid weight.");
        return
    }
    the_BMI = (the_weight / Math.pow((the_height / 100), 2));
    mylog(`Your Body Mass Index is ${round2(the_BMI)}`);
    if (the_BMI <= 18.5) {
        mylog("You are underweight.");
    } 
    else if (the_BMI <= 24.9) {
        mylog("You are healthy.");
    } 
    else if (the_BMI <= 29.9) {
        mylog("You are over weight.");
        mylog(`To be healthy you need to lose ${round2(the_weight-bmi2kg(24.9,the_height))} kg`);
        mylog(`To be healthy your weight should be ${bmi2kg(24.9,the_height)} kg`);
    }
    else if (the_BMI > 29.9) {
        mylog("You are obese.");
        mylog("To be healthy your BMI should be between 18.5 and 24.9");
        mylog(`To be healthy you need to lose ${round2(the_weight-bmi2kg(24.9,the_height))} kg`);
        mylog(`To be healthy your weight should be ${bmi2kg(24.9,the_height)} kg`);
        
    }
    localStorage.setItem("displaydata",document.getElementById('mydiv').innerHTML );
} 

var the_BMI, the_height, the_heights, the_weight;


function main() {
    the_height = prompt("Enter the height in feet: ");
    
    
    if (the_height !== null && the_height.includes("'") && the_height.length > 1){
        console.log("using inches")
        var part1 = Number.parseFloat(the_height.split("'")[0]);
        var part2 = Number.parseFloat(the_height.split("'")[1]);
        if ( !isNaN(part1) && !isNaN(part2) ){
            the_height = part1 + (part2/12);
            myFunction(the_height*30.48);
        } else {
            mylog("Please enter a valid height.");
        }
    } else if(the_height !== null && !isNaN(Number.parseFloat(the_height))) {
        console.log("using feet")
        the_height = Number.parseFloat(the_height);
        myFunction(the_height*30.48);
    } else{
        mylog("Please enter a valid height.");
    }
}

document.getElementById("calc").addEventListener("click", function () { 
    document.getElementById('mydiv').innerHTML = "";
    
    main();
});
    
    

</script>







</html>